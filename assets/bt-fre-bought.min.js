var BTFreBought={selectors:{selectedClass:"selected",checkbox:".pg__fre-check",variantSelect:".variant-id",pItem:".pg",totalPrice:".freb__total-price",addBtn:".freb__add-btn",qtyBox:".qty-box__input--fre",wrap:".fre-bought"},updateTotalBox:function(e){var s=0,c=0,a=this,i=0;e.find(this.selectors.pItem+"."+this.selectors.selectedClass).each(function(){var e=$(this).find(a.selectors.variantSelect+" option:selected"),t=parseInt($(this).find(a.selectors.qtyBox).first().val());e.data("available")&&(s+=parseInt(e.data("price"))*t,c+=parseInt(e.data("compare-price"))*t,i++)}),e.find(this.selectors.totalPrice).html(this.getTotalPriceHtml(s,c)),0<i?e.find(this.selectors.addBtn).removeAttr("disabled"):e.find(this.selectors.addBtn).attr("disabled","disabled"),BT.convertCurrencySilence(e.find("span.money"))},getTotalPriceHtml:function(e,t){var s="";return e<t&&(s+='<s class="product-price__price product-price__price--freb">'+BT.getPriceHtml(t)+"</s>"),s+='<span class="product-price__price product-price__price--freb">'+BT.getPriceHtml(e)+"</span>"},init:function(){var a=this;$(this.selectors.checkbox).unbind("click"),$(this.selectors.checkbox).on("click",function(e){e.preventDefault(),$(this).closest(a.selectors.pItem).toggleClass(a.selectors.selectedClass),a.updateTotalBox($(this).closest(a.selectors.wrap))}),$(this.selectors.variantSelect).unbind("change"),$(this.selectors.variantSelect).on("change",function(){var e=$(this).val(),t=$(this).children('option[value="'+e+'"]'),s=$(this).closest(a.selectors.pItem);t.data("available")?s.find(a.selectors.checkbox).removeAttr("disabled"):s.find(a.selectors.checkbox).attr("disabled","disabled"),a.updateTotalBox(s.closest(a.selectors.wrap))}),$(this.selectors.addBtn).unbind("click"),$(this.selectors.addBtn).on("click",function(){var e=$(this).closest(a.selectors.wrap),c=[];e.find(a.selectors.pItem+"."+a.selectors.selectedClass).each(function(){var e=$(this).find(a.selectors.variantSelect+" option:selected"),t=$(this).find(a.selectors.qtyBox).first().val();if(e.data("available")){var s=e.attr("value");c.push({id:s,quantity:t})}}),BT.showLoadingFull(),BT.callAjax(theme.cartAddUrl,"post",{items:c},"json",function(){document.location.href=theme.cartUrl})}),$(document).on("change",this.selectors.qtyBox,function(){a.updateTotalBox($(this).closest(a.selectors.wrap))}),BT.applyCustomColorSwatches(this.selectors.wrap)}};